# .github/workflows/simple-test.yml
name: Simple Code Test

on: workflow_dispatch

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-python@v4
      with:
        python-version: '3.9'
    - run: pip install requests pandas numpy
    
    - name: Check files
      run: |
        echo "ğŸ“ æª¢æŸ¥æ–‡ä»¶çµæ§‹"
        find scripts -name "*.py" 2>/dev/null | head -10 || echo "No Python files found"
        ls -la scripts/ || echo "No scripts directory"
    
    - name: Test basic import
      run: |
        cd scripts
        python -c "print('ğŸ§ª Pythonç’°å¢ƒæ¸¬è©¦'); import sys; print(f'Pythonç‰ˆæœ¬: {sys.version}')"
        python -c "import requests; print('âœ… requestså¯ç”¨')"
        python -c "import pandas; print('âœ… pandaså¯ç”¨')"
    
    - name: Test config import
      run: |
        cd scripts
        python -c "
try:
    from config.etf_config import ETF_INFO
    print('âœ… é…ç½®å°å…¥æˆåŠŸ')
    print(f'ETFæ•¸é‡: {len(ETF_INFO)}')
except Exception as e:
    print(f'âŒ é…ç½®å°å…¥å¤±æ•—: {e}')
        "
    
    - name: Test Firebase client
      run: |
        cd scripts
        python -c "
try:
    from core.firebase_client import FirebaseClient
    client = FirebaseClient()
    print('âœ… Firebaseå®¢æˆ¶ç«¯å‰µå»ºæˆåŠŸ')
except Exception as e:
    print(f'âŒ Firebaseå®¢æˆ¶ç«¯å¤±æ•—: {e}')
        "
    
    - name: Test dashboard
      run: |
        cd scripts
        python -c "
try:
    from generate_dashboard import ModularDashboard
    dashboard = ModularDashboard()
    print('âœ… å„€è¡¨æ¿å‰µå»ºæˆåŠŸ')
except Exception as e:
    print(f'âŒ å„€è¡¨æ¿å‰µå»ºå¤±æ•—: {e}')
        "
    
    - name: Summary
      run: |
        echo "ğŸ‰ åŸºæœ¬æ¸¬è©¦å®Œæˆ"
        echo "å¦‚æœçœ‹åˆ°å¤šå€‹âœ…ï¼Œèªªæ˜ç³»çµ±åŸºæœ¬æ­£å¸¸"
